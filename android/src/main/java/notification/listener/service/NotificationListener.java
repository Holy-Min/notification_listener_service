package notification.listener.service;

import static notification.listener.service.NotificationUtils.getBitmapFromDrawable;
import static notification.listener.service.models.ActionCache.cachedNotifications;

import android.annotation.SuppressLint;
import android.app.Notification;
import android.content.Intent;
import android.content.Context;
import android.content.pm.PackageManager;
import android.graphics.Bitmap;
import android.graphics.drawable.Drawable;
import android.os.Build.VERSION_CODES;
import android.os.Bundle;
import android.service.notification.NotificationListenerService;
import android.service.notification.StatusBarNotification;
import android.widget.Toast;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;

import androidx.annotation.RequiresApi;

import java.io.ByteArrayOutputStream;
import android.app.NotificationManager;

import notification.listener.service.models.Action;
import java.util.regex.Pattern;
import java.util.regex.Matcher;
import java.util.List;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Arrays;

@SuppressLint("OverrideAbstract")
@RequiresApi(api = VERSION_CODES.JELLY_BEAN_MR2)
public class NotificationListener extends NotificationListenerService {

    NotiDatabase notiDb;
    private Context context;
//    private String defaultSMS = "";

    public static boolean runApp = false;
    private final NotiData noti = new NotiData();
    private final KakaoData kakaonoti = new KakaoData();
    private final WhatsappData whatsappnoti = new WhatsappData();
    private final TelegramData telegramnoti = new TelegramData();
    private final LineData linenoti = new LineData();
    private final InstagramData instagramnoti = new InstagramData();
    private final FacebookData facebooknoti = new FacebookData();

    public void setRunAppFalse() {
        runApp = false;
    }
    public void setRunAppTrue() {
        runApp = true;
    }

    String regex = "((http|https)://)?(www\\.)?([a-zA-Zㄱ-ㅎ가-힣0-9]+(\\.[a-zA-Z]{2,})+)(/[a-zA-Z0-9]*)*([a-zA-Z0-9]|$)";
    Pattern pattern = Pattern.compile(regex);

    static HashSet<String> tld = new HashSet<String>(Arrays.asList(
            "aero",
            "arpa",
            "asia",
            "biz",
            "cat",
            "com",
            "coop",
            "edu",
            "gov",
            "info",
            "int",
            "jobs",
            "mil",
            "mobi",
            "museum",
            "name",
            "net",
            "org",
            "post",
            "pro",
            "tel",
            "travel",
            "google",
            "goog",
            "gle",
            "youtube",
            "yandex",
            "microsoft",
            "wiki",
            "co.ad",
            "co.ae",
            "co.af",
            "co.ag",
            "co.ai",
            "co.al",
            "co.am",
            "co.ao",
            "co.aq",
            "co.ar",
            "co.as",
            "co.at",
            "co.au",
            "co.aw",
            "co.ax",
            "co.az",
            "co.ba",
            "co.bb",
            "co.bd",
            "co.be",
            "co.bf",
            "co.bg",
            "co.bh",
            "co.bi",
            "co.bj",
            "co.bl",
            "co.bm",
            "co.bn",
            "co.bo",
            "co.bq",
            "co.br",
            "co.bs",
            "co.bt",
            "co.bv",
            "co.bw",
            "co.by",
            "co.bz",
            "co.ca",
            "co.cc",
            "co.cd",
            "co.cf",
            "co.cg",
            "co.ch",
            "co.ci",
            "co.ck",
            "co.cl",
            "co.cm",
            "co.cn",
            "co.co",
            "co.cr",
            "co.cu",
            "co.cv",
            "co.cw",
            "co.cx",
            "co.cy",
            "co.cz",
            "co.de",
            "co.dj",
            "co.dk",
            "co.dm",
            "co.do",
            "co.dz",
            "co.ec",
            "co.ee",
            "co.eg",
            "co.eh",
            "co.er",
            "co.es",
            "co.et",
            "co.fi",
            "co.fj",
            "co.fk",
            "co.fm",
            "co.fo",
            "co.fr",
            "co.ga",
            "co.gb",
            "co.gd",
            "co.ge",
            "co.gf",
            "co.gg",
            "co.gh",
            "co.gi",
            "co.gl",
            "co.gm",
            "co.gn",
            "co.gp",
            "co.gq",
            "co.gr",
            "co.gs",
            "co.gt",
            "co.gu",
            "co.gw",
            "co.gy",
            "co.hk",
            "co.hm",
            "co.hn",
            "co.hr",
            "co.ht",
            "co.hu",
            "co.id",
            "co.ie",
            "co.il",
            "co.im",
            "co.in",
            "co.io",
            "co.iq",
            "co.ir",
            "co.is",
            "co.it",
            "co.je",
            "co.jm",
            "co.jo",
            "co.jp",
            "co.ke",
            "co.kg",
            "co.kh",
            "co.ki",
            "co.km",
            "co.kn",
            "co.kp",
            "co.kr",
            "co.kw",
            "co.ky",
            "co.kz",
            "co.la",
            "co.lb",
            "co.lc",
            "co.lk",
            "co.li",
            "co.lr",
            "co.ls",
            "co.lt",
            "co.lu",
            "co.lv",
            "co.ly",
            "co.ma",
            "co.mc",
            "co.md",
            "co.me",
            "co.mf",
            "co.mg",
            "co.mh",
            "co.mk",
            "co.ml",
            "co.mm",
            "co.mn",
            "co.mo",
            "co.mp",
            "co.mq",
            "co.mr",
            "co.ms",
            "co.mt",
            "co.mu",
            "co.mv",
            "co.mw",
            "co.mx",
            "co.my",
            "co.mz",
            "co.na",
            "co.nc",
            "co.ne",
            "co.nf",
            "co.ng",
            "co.ni",
            "co.nl",
            "co.no",
            "co.np",
            "co.nr",
            "co.nu",
            "co.nz",
            "co.om",
            "co.pa",
            "co.pe",
            "co.pf",
            "co.pg",
            "co.ph",
            "co.pk",
            "co.pl",
            "co.pm",
            "co.pn",
            "co.pr",
            "co.ps",
            "co.pt",
            "co.pw",
            "co.py",
            "co.qa",
            "co.re",
            "co.ro",
            "co.rs",
            "co.ru",
            "co.rw",
            "co.sa",
            "co.sb",
            "co.sc",
            "co.sd",
            "co.se",
            "co.sg",
            "co.sh",
            "co.si",
            "co.sj",
            "co.sk",
            "co.sl",
            "co.sm",
            "co.sn",
            "co.so",
            "co.sr",
            "co.ss",
            "co.st",
            "co.sv",
            "co.sx",
            "co.sy",
            "co.sz",
            "co.tc",
            "co.td",
            "co.tf",
            "co.tg",
            "co.th",
            "co.tj",
            "co.tk",
            "co.tl",
            "co.tm",
            "co.tn",
            "co.to",
            "co.tr",
            "co.tt",
            "co.tv",
            "co.tw",
            "co.tz",
            "co.ua",
            "co.ug",
            "co.um",
            "co.us",
            "co.uy",
            "co.uz",
            "co.va",
            "co.vc",
            "co.ve",
            "co.vg",
            "co.vi",
            "co.vn",
            "co.vu",
            "co.wf",
            "co.ws",
            "co.ye",
            "co.yt",
            "co.za",
            "co.zm",
            "co.zw",
            "co.uk",
            "com.ad",
            "com.ae",
            "com.af",
            "com.ag",
            "com.ai",
            "com.al",
            "com.am",
            "com.ao",
            "com.aq",
            "com.ar",
            "com.as",
            "com.at",
            "com.au",
            "com.aw",
            "com.ax",
            "com.az",
            "com.ba",
            "com.bb",
            "com.bd",
            "com.be",
            "com.bf",
            "com.bg",
            "com.bh",
            "com.bi",
            "com.bj",
            "com.bl",
            "com.bm",
            "com.bn",
            "com.bo",
            "com.bq",
            "com.br",
            "com.bs",
            "com.bt",
            "com.bv",
            "com.bw",
            "com.by",
            "com.bz",
            "com.ca",
            "com.cc",
            "com.cd",
            "com.cf",
            "com.cg",
            "com.ch",
            "com.ci",
            "com.ck",
            "com.cl",
            "com.cm",
            "com.cn",
            "com.co",
            "com.cr",
            "com.cu",
            "com.cv",
            "com.cw",
            "com.cx",
            "com.cy",
            "com.cz",
            "com.de",
            "com.dj",
            "com.dk",
            "com.dm",
            "com.do",
            "com.dz",
            "com.ec",
            "com.ee",
            "com.eg",
            "com.eh",
            "com.er",
            "com.es",
            "com.et",
            "com.fi",
            "com.fj",
            "com.fk",
            "com.fm",
            "com.fo",
            "com.fr",
            "com.ga",
            "com.gb",
            "com.gd",
            "com.ge",
            "com.gf",
            "com.gg",
            "com.gh",
            "com.gi",
            "com.gl",
            "com.gm",
            "com.gn",
            "com.gp",
            "com.gq",
            "com.gr",
            "com.gs",
            "com.gt",
            "com.gu",
            "com.gw",
            "com.gy",
            "com.hk",
            "com.hm",
            "com.hn",
            "com.hr",
            "com.ht",
            "com.hu",
            "com.id",
            "com.ie",
            "com.il",
            "com.im",
            "com.in",
            "com.io",
            "com.iq",
            "com.ir",
            "com.is",
            "com.it",
            "com.je",
            "com.jm",
            "com.jo",
            "com.jp",
            "com.ke",
            "com.kg",
            "com.kh",
            "com.ki",
            "com.km",
            "com.kn",
            "com.kp",
            "com.kr",
            "com.kw",
            "com.ky",
            "com.kz",
            "com.la",
            "com.lb",
            "com.lc",
            "com.lk",
            "com.li",
            "com.lr",
            "com.ls",
            "com.lt",
            "com.lu",
            "com.lv",
            "com.ly",
            "com.ma",
            "com.mc",
            "com.md",
            "com.me",
            "com.mf",
            "com.mg",
            "com.mh",
            "com.mk",
            "com.ml",
            "com.mm",
            "com.mn",
            "com.mo",
            "com.mp",
            "com.mq",
            "com.mr",
            "com.ms",
            "com.mt",
            "com.mu",
            "com.mv",
            "com.mw",
            "com.mx",
            "com.my",
            "com.mz",
            "com.na",
            "com.nc",
            "com.ne",
            "com.nf",
            "com.ng",
            "com.ni",
            "com.nl",
            "com.no",
            "com.np",
            "com.nr",
            "com.nu",
            "com.nz",
            "com.om",
            "com.pa",
            "com.pe",
            "com.pf",
            "com.pg",
            "com.ph",
            "com.pk",
            "com.pl",
            "com.pm",
            "com.pn",
            "com.pr",
            "com.ps",
            "com.pt",
            "com.pw",
            "com.py",
            "com.qa",
            "com.re",
            "com.ro",
            "com.rs",
            "com.ru",
            "com.rw",
            "com.sa",
            "com.sb",
            "com.sc",
            "com.sd",
            "com.se",
            "com.sg",
            "com.sh",
            "com.si",
            "com.sj",
            "com.sk",
            "com.sl",
            "com.sm",
            "com.sn",
            "com.so",
            "com.sr",
            "com.ss",
            "com.st",
            "com.sv",
            "com.sx",
            "com.sy",
            "com.sz",
            "com.tc",
            "com.td",
            "com.tf",
            "com.tg",
            "com.th",
            "com.tj",
            "com.tk",
            "com.tl",
            "com.tm",
            "com.tn",
            "com.to",
            "com.tr",
            "com.tt",
            "com.tv",
            "com.tw",
            "com.tz",
            "com.ua",
            "com.ug",
            "com.um",
            "com.us",
            "com.uy",
            "com.uz",
            "com.va",
            "com.vc",
            "com.ve",
            "com.vg",
            "com.vi",
            "com.vn",
            "com.vu",
            "com.wf",
            "com.ws",
            "com.ye",
            "com.yt",
            "com.za",
            "com.zm",
            "com.zw",
            "com.uk",
            "gov.ad",
            "gov.ae",
            "gov.af",
            "gov.ag",
            "gov.ai",
            "gov.al",
            "gov.am",
            "gov.ao",
            "gov.aq",
            "gov.ar",
            "gov.as",
            "gov.at",
            "gov.au",
            "gov.aw",
            "gov.ax",
            "gov.az",
            "gov.ba",
            "gov.bb",
            "gov.bd",
            "gov.be",
            "gov.bf",
            "gov.bg",
            "gov.bh",
            "gov.bi",
            "gov.bj",
            "gov.bl",
            "gov.bm",
            "gov.bn",
            "gov.bo",
            "gov.bq",
            "gov.br",
            "gov.bs",
            "gov.bt",
            "gov.bv",
            "gov.bw",
            "gov.by",
            "gov.bz",
            "gov.ca",
            "gov.cc",
            "gov.cd",
            "gov.cf",
            "gov.cg",
            "gov.ch",
            "gov.ci",
            "gov.ck",
            "gov.cl",
            "gov.cm",
            "gov.cn",
            "gov.co",
            "gov.cr",
            "gov.cu",
            "gov.cv",
            "gov.cw",
            "gov.cx",
            "gov.cy",
            "gov.cz",
            "gov.de",
            "gov.dj",
            "gov.dk",
            "gov.dm",
            "gov.do",
            "gov.dz",
            "gov.ec",
            "gov.ee",
            "gov.eg",
            "gov.eh",
            "gov.er",
            "gov.es",
            "gov.et",
            "gov.fi",
            "gov.fj",
            "gov.fk",
            "gov.fm",
            "gov.fo",
            "gov.fr",
            "gov.ga",
            "gov.gb",
            "gov.gd",
            "gov.ge",
            "gov.gf",
            "gov.gg",
            "gov.gh",
            "gov.gi",
            "gov.gl",
            "gov.gm",
            "gov.gn",
            "gov.gp",
            "gov.gq",
            "gov.gr",
            "gov.gs",
            "gov.gt",
            "gov.gu",
            "gov.gw",
            "gov.gy",
            "gov.hk",
            "gov.hm",
            "gov.hn",
            "gov.hr",
            "gov.ht",
            "gov.hu",
            "gov.id",
            "gov.ie",
            "gov.il",
            "gov.im",
            "gov.in",
            "gov.io",
            "gov.iq",
            "gov.ir",
            "gov.is",
            "gov.it",
            "gov.je",
            "gov.jm",
            "gov.jo",
            "gov.jp",
            "gov.ke",
            "gov.kg",
            "gov.kh",
            "gov.ki",
            "gov.km",
            "gov.kn",
            "gov.kp",
            "gov.kr",
            "gov.kw",
            "gov.ky",
            "gov.kz",
            "gov.la",
            "gov.lb",
            "gov.lc",
            "gov.lk",
            "gov.li",
            "gov.lr",
            "gov.ls",
            "gov.lt",
            "gov.lu",
            "gov.lv",
            "gov.ly",
            "gov.ma",
            "gov.mc",
            "gov.md",
            "gov.me",
            "gov.mf",
            "gov.mg",
            "gov.mh",
            "gov.mk",
            "gov.ml",
            "gov.mm",
            "gov.mn",
            "gov.mo",
            "gov.mp",
            "gov.mq",
            "gov.mr",
            "gov.ms",
            "gov.mt",
            "gov.mu",
            "gov.mv",
            "gov.mw",
            "gov.mx",
            "gov.my",
            "gov.mz",
            "gov.na",
            "gov.nc",
            "gov.ne",
            "gov.nf",
            "gov.ng",
            "gov.ni",
            "gov.nl",
            "gov.no",
            "gov.np",
            "gov.nr",
            "gov.nu",
            "gov.nz",
            "gov.om",
            "gov.pa",
            "gov.pe",
            "gov.pf",
            "gov.pg",
            "gov.ph",
            "gov.pk",
            "gov.pl",
            "gov.pm",
            "gov.pn",
            "gov.pr",
            "gov.ps",
            "gov.pt",
            "gov.pw",
            "gov.py",
            "gov.qa",
            "gov.re",
            "gov.ro",
            "gov.rs",
            "gov.ru",
            "gov.rw",
            "gov.sa",
            "gov.sb",
            "gov.sc",
            "gov.sd",
            "gov.se",
            "gov.sg",
            "gov.sh",
            "gov.si",
            "gov.sj",
            "gov.sk",
            "gov.sl",
            "gov.sm",
            "gov.sn",
            "gov.so",
            "gov.sr",
            "gov.ss",
            "gov.st",
            "gov.sv",
            "gov.sx",
            "gov.sy",
            "gov.sz",
            "gov.tc",
            "gov.td",
            "gov.tf",
            "gov.tg",
            "gov.th",
            "gov.tj",
            "gov.tk",
            "gov.tl",
            "gov.tm",
            "gov.tn",
            "gov.to",
            "gov.tr",
            "gov.tt",
            "gov.tv",
            "gov.tw",
            "gov.tz",
            "gov.ua",
            "gov.ug",
            "gov.um",
            "gov.us",
            "gov.uy",
            "gov.uz",
            "gov.va",
            "gov.vc",
            "gov.ve",
            "gov.vg",
            "gov.vi",
            "gov.vn",
            "gov.vu",
            "gov.wf",
            "gov.ws",
            "gov.ye",
            "gov.yt",
            "gov.za",
            "gov.zm",
            "gov.zw",
            "gov.uk",
            "edu.ad",
            "edu.ae",
            "edu.af",
            "edu.ag",
            "edu.ai",
            "edu.al",
            "edu.am",
            "edu.ao",
            "edu.aq",
            "edu.ar",
            "edu.as",
            "edu.at",
            "edu.au",
            "edu.aw",
            "edu.ax",
            "edu.az",
            "edu.ba",
            "edu.bb",
            "edu.bd",
            "edu.be",
            "edu.bf",
            "edu.bg",
            "edu.bh",
            "edu.bi",
            "edu.bj",
            "edu.bl",
            "edu.bm",
            "edu.bn",
            "edu.bo",
            "edu.bq",
            "edu.br",
            "edu.bs",
            "edu.bt",
            "edu.bv",
            "edu.bw",
            "edu.by",
            "edu.bz",
            "edu.ca",
            "edu.cc",
            "edu.cd",
            "edu.cf",
            "edu.cg",
            "edu.ch",
            "edu.ci",
            "edu.ck",
            "edu.cl",
            "edu.cm",
            "edu.cn",
            "edu.co",
            "edu.cr",
            "edu.cu",
            "edu.cv",
            "edu.cw",
            "edu.cx",
            "edu.cy",
            "edu.cz",
            "edu.de",
            "edu.dj",
            "edu.dk",
            "edu.dm",
            "edu.do",
            "edu.dz",
            "edu.ec",
            "edu.ee",
            "edu.eg",
            "edu.eh",
            "edu.er",
            "edu.es",
            "edu.et",
            "edu.fi",
            "edu.fj",
            "edu.fk",
            "edu.fm",
            "edu.fo",
            "edu.fr",
            "edu.ga",
            "edu.gb",
            "edu.gd",
            "edu.ge",
            "edu.gf",
            "edu.gg",
            "edu.gh",
            "edu.gi",
            "edu.gl",
            "edu.gm",
            "edu.gn",
            "edu.gp",
            "edu.gq",
            "edu.gr",
            "edu.gs",
            "edu.gt",
            "edu.gu",
            "edu.gw",
            "edu.gy",
            "edu.hk",
            "edu.hm",
            "edu.hn",
            "edu.hr",
            "edu.ht",
            "edu.hu",
            "edu.id",
            "edu.ie",
            "edu.il",
            "edu.im",
            "edu.in",
            "edu.io",
            "edu.iq",
            "edu.ir",
            "edu.is",
            "edu.it",
            "edu.je",
            "edu.jm",
            "edu.jo",
            "edu.jp",
            "edu.ke",
            "edu.kg",
            "edu.kh",
            "edu.ki",
            "edu.km",
            "edu.kn",
            "edu.kp",
            "edu.kr",
            "edu.kw",
            "edu.ky",
            "edu.kz",
            "edu.la",
            "edu.lb",
            "edu.lc",
            "edu.lk",
            "edu.li",
            "edu.lr",
            "edu.ls",
            "edu.lt",
            "edu.lu",
            "edu.lv",
            "edu.ly",
            "edu.ma",
            "edu.mc",
            "edu.md",
            "edu.me",
            "edu.mf",
            "edu.mg",
            "edu.mh",
            "edu.mk",
            "edu.ml",
            "edu.mm",
            "edu.mn",
            "edu.mo",
            "edu.mp",
            "edu.mq",
            "edu.mr",
            "edu.ms",
            "edu.mt",
            "edu.mu",
            "edu.mv",
            "edu.mw",
            "edu.mx",
            "edu.my",
            "edu.mz",
            "edu.na",
            "edu.nc",
            "edu.ne",
            "edu.nf",
            "edu.ng",
            "edu.ni",
            "edu.nl",
            "edu.no",
            "edu.np",
            "edu.nr",
            "edu.nu",
            "edu.nz",
            "edu.om",
            "edu.pa",
            "edu.pe",
            "edu.pf",
            "edu.pg",
            "edu.ph",
            "edu.pk",
            "edu.pl",
            "edu.pm",
            "edu.pn",
            "edu.pr",
            "edu.ps",
            "edu.pt",
            "edu.pw",
            "edu.py",
            "edu.qa",
            "edu.re",
            "edu.ro",
            "edu.rs",
            "edu.ru",
            "edu.rw",
            "edu.sa",
            "edu.sb",
            "edu.sc",
            "edu.sd",
            "edu.se",
            "edu.sg",
            "edu.sh",
            "edu.si",
            "edu.sj",
            "edu.sk",
            "edu.sl",
            "edu.sm",
            "edu.sn",
            "edu.so",
            "edu.sr",
            "edu.ss",
            "edu.st",
            "edu.sv",
            "edu.sx",
            "edu.sy",
            "edu.sz",
            "edu.tc",
            "edu.td",
            "edu.tf",
            "edu.tg",
            "edu.th",
            "edu.tj",
            "edu.tk",
            "edu.tl",
            "edu.tm",
            "edu.tn",
            "edu.to",
            "edu.tr",
            "edu.tt",
            "edu.tv",
            "edu.tw",
            "edu.tz",
            "edu.ua",
            "edu.ug",
            "edu.um",
            "edu.us",
            "edu.uy",
            "edu.uz",
            "edu.va",
            "edu.vc",
            "edu.ve",
            "edu.vg",
            "edu.vi",
            "edu.vn",
            "edu.vu",
            "edu.wf",
            "edu.ws",
            "edu.ye",
            "edu.yt",
            "edu.za",
            "edu.zm",
            "edu.zw",
            "edu.uk",
            "ac.ad",
            "ac.ae",
            "ac.af",
            "ac.ag",
            "ac.ai",
            "ac.al",
            "ac.am",
            "ac.ao",
            "ac.aq",
            "ac.ar",
            "ac.as",
            "ac.at",
            "ac.au",
            "ac.aw",
            "ac.ax",
            "ac.az",
            "ac.ba",
            "ac.bb",
            "ac.bd",
            "ac.be",
            "ac.bf",
            "ac.bg",
            "ac.bh",
            "ac.bi",
            "ac.bj",
            "ac.bl",
            "ac.bm",
            "ac.bn",
            "ac.bo",
            "ac.bq",
            "ac.br",
            "ac.bs",
            "ac.bt",
            "ac.bv",
            "ac.bw",
            "ac.by",
            "ac.bz",
            "ac.ca",
            "ac.cc",
            "ac.cd",
            "ac.cf",
            "ac.cg",
            "ac.ch",
            "ac.ci",
            "ac.ck",
            "ac.cl",
            "ac.cm",
            "ac.cn",
            "ac.co",
            "ac.cr",
            "ac.cu",
            "ac.cv",
            "ac.cw",
            "ac.cx",
            "ac.cy",
            "ac.cz",
            "ac.de",
            "ac.dj",
            "ac.dk",
            "ac.dm",
            "ac.do",
            "ac.dz",
            "ac.ec",
            "ac.ee",
            "ac.eg",
            "ac.eh",
            "ac.er",
            "ac.es",
            "ac.et",
            "ac.fi",
            "ac.fj",
            "ac.fk",
            "ac.fm",
            "ac.fo",
            "ac.fr",
            "ac.ga",
            "ac.gb",
            "ac.gd",
            "ac.ge",
            "ac.gf",
            "ac.gg",
            "ac.gh",
            "ac.gi",
            "ac.gl",
            "ac.gm",
            "ac.gn",
            "ac.gp",
            "ac.gq",
            "ac.gr",
            "ac.gs",
            "ac.gt",
            "ac.gu",
            "ac.gw",
            "ac.gy",
            "ac.hk",
            "ac.hm",
            "ac.hn",
            "ac.hr",
            "ac.ht",
            "ac.hu",
            "ac.id",
            "ac.ie",
            "ac.il",
            "ac.im",
            "ac.in",
            "ac.io",
            "ac.iq",
            "ac.ir",
            "ac.is",
            "ac.it",
            "ac.je",
            "ac.jm",
            "ac.jo",
            "ac.jp",
            "ac.ke",
            "ac.kg",
            "ac.kh",
            "ac.ki",
            "ac.km",
            "ac.kn",
            "ac.kp",
            "ac.kr",
            "ac.kw",
            "ac.ky",
            "ac.kz",
            "ac.la",
            "ac.lb",
            "ac.lc",
            "ac.lk",
            "ac.li",
            "ac.lr",
            "ac.ls",
            "ac.lt",
            "ac.lu",
            "ac.lv",
            "ac.ly",
            "ac.ma",
            "ac.mc",
            "ac.md",
            "ac.me",
            "ac.mf",
            "ac.mg",
            "ac.mh",
            "ac.mk",
            "ac.ml",
            "ac.mm",
            "ac.mn",
            "ac.mo",
            "ac.mp",
            "ac.mq",
            "ac.mr",
            "ac.ms",
            "ac.mt",
            "ac.mu",
            "ac.mv",
            "ac.mw",
            "ac.mx",
            "ac.my",
            "ac.mz",
            "ac.na",
            "ac.nc",
            "ac.ne",
            "ac.nf",
            "ac.ng",
            "ac.ni",
            "ac.nl",
            "ac.no",
            "ac.np",
            "ac.nr",
            "ac.nu",
            "ac.nz",
            "ac.om",
            "ac.pa",
            "ac.pe",
            "ac.pf",
            "ac.pg",
            "ac.ph",
            "ac.pk",
            "ac.pl",
            "ac.pm",
            "ac.pn",
            "ac.pr",
            "ac.ps",
            "ac.pt",
            "ac.pw",
            "ac.py",
            "ac.qa",
            "ac.re",
            "ac.ro",
            "ac.rs",
            "ac.ru",
            "ac.rw",
            "ac.sa",
            "ac.sb",
            "ac.sc",
            "ac.sd",
            "ac.se",
            "ac.sg",
            "ac.sh",
            "ac.si",
            "ac.sj",
            "ac.sk",
            "ac.sl",
            "ac.sm",
            "ac.sn",
            "ac.so",
            "ac.sr",
            "ac.ss",
            "ac.st",
            "ac.sv",
            "ac.sx",
            "ac.sy",
            "ac.sz",
            "ac.tc",
            "ac.td",
            "ac.tf",
            "ac.tg",
            "ac.th",
            "ac.tj",
            "ac.tk",
            "ac.tl",
            "ac.tm",
            "ac.tn",
            "ac.to",
            "ac.tr",
            "ac.tt",
            "ac.tv",
            "ac.tw",
            "ac.tz",
            "ac.ua",
            "ac.ug",
            "ac.um",
            "ac.us",
            "ac.uy",
            "ac.uz",
            "ac.va",
            "ac.vc",
            "ac.ve",
            "ac.vg",
            "ac.vi",
            "ac.vn",
            "ac.vu",
            "ac.wf",
            "ac.ws",
            "ac.ye",
            "ac.yt",
            "ac.za",
            "ac.zm",
            "ac.zw",
            "ac.uk",
            "go.ad",
            "go.ae",
            "go.af",
            "go.ag",
            "go.ai",
            "go.al",
            "go.am",
            "go.ao",
            "go.aq",
            "go.ar",
            "go.as",
            "go.at",
            "go.au",
            "go.aw",
            "go.ax",
            "go.az",
            "go.ba",
            "go.bb",
            "go.bd",
            "go.be",
            "go.bf",
            "go.bg",
            "go.bh",
            "go.bi",
            "go.bj",
            "go.bl",
            "go.bm",
            "go.bn",
            "go.bo",
            "go.bq",
            "go.br",
            "go.bs",
            "go.bt",
            "go.bv",
            "go.bw",
            "go.by",
            "go.bz",
            "go.ca",
            "go.cc",
            "go.cd",
            "go.cf",
            "go.cg",
            "go.ch",
            "go.ci",
            "go.ck",
            "go.cl",
            "go.cm",
            "go.cn",
            "go.co",
            "go.cr",
            "go.cu",
            "go.cv",
            "go.cw",
            "go.cx",
            "go.cy",
            "go.cz",
            "go.de",
            "go.dj",
            "go.dk",
            "go.dm",
            "go.do",
            "go.dz",
            "go.ec",
            "go.ee",
            "go.eg",
            "go.eh",
            "go.er",
            "go.es",
            "go.et",
            "go.fi",
            "go.fj",
            "go.fk",
            "go.fm",
            "go.fo",
            "go.fr",
            "go.ga",
            "go.gb",
            "go.gd",
            "go.ge",
            "go.gf",
            "go.gg",
            "go.gh",
            "go.gi",
            "go.gl",
            "go.gm",
            "go.gn",
            "go.gp",
            "go.gq",
            "go.gr",
            "go.gs",
            "go.gt",
            "go.gu",
            "go.gw",
            "go.gy",
            "go.hk",
            "go.hm",
            "go.hn",
            "go.hr",
            "go.ht",
            "go.hu",
            "go.id",
            "go.ie",
            "go.il",
            "go.im",
            "go.in",
            "go.io",
            "go.iq",
            "go.ir",
            "go.is",
            "go.it",
            "go.je",
            "go.jm",
            "go.jo",
            "go.jp",
            "go.ke",
            "go.kg",
            "go.kh",
            "go.ki",
            "go.km",
            "go.kn",
            "go.kp",
            "go.kr",
            "go.kw",
            "go.ky",
            "go.kz",
            "go.la",
            "go.lb",
            "go.lc",
            "go.lk",
            "go.li",
            "go.lr",
            "go.ls",
            "go.lt",
            "go.lu",
            "go.lv",
            "go.ly",
            "go.ma",
            "go.mc",
            "go.md",
            "go.me",
            "go.mf",
            "go.mg",
            "go.mh",
            "go.mk",
            "go.ml",
            "go.mm",
            "go.mn",
            "go.mo",
            "go.mp",
            "go.mq",
            "go.mr",
            "go.ms",
            "go.mt",
            "go.mu",
            "go.mv",
            "go.mw",
            "go.mx",
            "go.my",
            "go.mz",
            "go.na",
            "go.nc",
            "go.ne",
            "go.nf",
            "go.ng",
            "go.ni",
            "go.nl",
            "go.no",
            "go.np",
            "go.nr",
            "go.nu",
            "go.nz",
            "go.om",
            "go.pa",
            "go.pe",
            "go.pf",
            "go.pg",
            "go.ph",
            "go.pk",
            "go.pl",
            "go.pm",
            "go.pn",
            "go.pr",
            "go.ps",
            "go.pt",
            "go.pw",
            "go.py",
            "go.qa",
            "go.re",
            "go.ro",
            "go.rs",
            "go.ru",
            "go.rw",
            "go.sa",
            "go.sb",
            "go.sc",
            "go.sd",
            "go.se",
            "go.sg",
            "go.sh",
            "go.si",
            "go.sj",
            "go.sk",
            "go.sl",
            "go.sm",
            "go.sn",
            "go.so",
            "go.sr",
            "go.ss",
            "go.st",
            "go.sv",
            "go.sx",
            "go.sy",
            "go.sz",
            "go.tc",
            "go.td",
            "go.tf",
            "go.tg",
            "go.th",
            "go.tj",
            "go.tk",
            "go.tl",
            "go.tm",
            "go.tn",
            "go.to",
            "go.tr",
            "go.tt",
            "go.tv",
            "go.tw",
            "go.tz",
            "go.ua",
            "go.ug",
            "go.um",
            "go.us",
            "go.uy",
            "go.uz",
            "go.va",
            "go.vc",
            "go.ve",
            "go.vg",
            "go.vi",
            "go.vn",
            "go.vu",
            "go.wf",
            "go.ws",
            "go.ye",
            "go.yt",
            "go.za",
            "go.zm",
            "go.zw",
            "go.uk",
            "or.ad",
            "or.ae",
            "or.af",
            "or.ag",
            "or.ai",
            "or.al",
            "or.am",
            "or.ao",
            "or.aq",
            "or.ar",
            "or.as",
            "or.at",
            "or.au",
            "or.aw",
            "or.ax",
            "or.az",
            "or.ba",
            "or.bb",
            "or.bd",
            "or.be",
            "or.bf",
            "or.bg",
            "or.bh",
            "or.bi",
            "or.bj",
            "or.bl",
            "or.bm",
            "or.bn",
            "or.bo",
            "or.bq",
            "or.br",
            "or.bs",
            "or.bt",
            "or.bv",
            "or.bw",
            "or.by",
            "or.bz",
            "or.ca",
            "or.cc",
            "or.cd",
            "or.cf",
            "or.cg",
            "or.ch",
            "or.ci",
            "or.ck",
            "or.cl",
            "or.cm",
            "or.cn",
            "or.co",
            "or.cr",
            "or.cu",
            "or.cv",
            "or.cw",
            "or.cx",
            "or.cy",
            "or.cz",
            "or.de",
            "or.dj",
            "or.dk",
            "or.dm",
            "or.do",
            "or.dz",
            "or.ec",
            "or.ee",
            "or.eg",
            "or.eh",
            "or.er",
            "or.es",
            "or.et",
            "or.fi",
            "or.fj",
            "or.fk",
            "or.fm",
            "or.fo",
            "or.fr",
            "or.ga",
            "or.gb",
            "or.gd",
            "or.ge",
            "or.gf",
            "or.gg",
            "or.gh",
            "or.gi",
            "or.gl",
            "or.gm",
            "or.gn",
            "or.gp",
            "or.gq",
            "or.gr",
            "or.gs",
            "or.gt",
            "or.gu",
            "or.gw",
            "or.gy",
            "or.hk",
            "or.hm",
            "or.hn",
            "or.hr",
            "or.ht",
            "or.hu",
            "or.id",
            "or.ie",
            "or.il",
            "or.im",
            "or.in",
            "or.io",
            "or.iq",
            "or.ir",
            "or.is",
            "or.it",
            "or.je",
            "or.jm",
            "or.jo",
            "or.jp",
            "or.ke",
            "or.kg",
            "or.kh",
            "or.ki",
            "or.km",
            "or.kn",
            "or.kp",
            "or.kr",
            "or.kw",
            "or.ky",
            "or.kz",
            "or.la",
            "or.lb",
            "or.lc",
            "or.lk",
            "or.li",
            "or.lr",
            "or.ls",
            "or.lt",
            "or.lu",
            "or.lv",
            "or.ly",
            "or.ma",
            "or.mc",
            "or.md",
            "or.me",
            "or.mf",
            "or.mg",
            "or.mh",
            "or.mk",
            "or.ml",
            "or.mm",
            "or.mn",
            "or.mo",
            "or.mp",
            "or.mq",
            "or.mr",
            "or.ms",
            "or.mt",
            "or.mu",
            "or.mv",
            "or.mw",
            "or.mx",
            "or.my",
            "or.mz",
            "or.na",
            "or.nc",
            "or.ne",
            "or.nf",
            "or.ng",
            "or.ni",
            "or.nl",
            "or.no",
            "or.np",
            "or.nr",
            "or.nu",
            "or.nz",
            "or.om",
            "or.pa",
            "or.pe",
            "or.pf",
            "or.pg",
            "or.ph",
            "or.pk",
            "or.pl",
            "or.pm",
            "or.pn",
            "or.pr",
            "or.ps",
            "or.pt",
            "or.pw",
            "or.py",
            "or.qa",
            "or.re",
            "or.ro",
            "or.rs",
            "or.ru",
            "or.rw",
            "or.sa",
            "or.sb",
            "or.sc",
            "or.sd",
            "or.se",
            "or.sg",
            "or.sh",
            "or.si",
            "or.sj",
            "or.sk",
            "or.sl",
            "or.sm",
            "or.sn",
            "or.so",
            "or.sr",
            "or.ss",
            "or.st",
            "or.sv",
            "or.sx",
            "or.sy",
            "or.sz",
            "or.tc",
            "or.td",
            "or.tf",
            "or.tg",
            "or.th",
            "or.tj",
            "or.tk",
            "or.tl",
            "or.tm",
            "or.tn",
            "or.to",
            "or.tr",
            "or.tt",
            "or.tv",
            "or.tw",
            "or.tz",
            "or.ua",
            "or.ug",
            "or.um",
            "or.us",
            "or.uy",
            "or.uz",
            "or.va",
            "or.vc",
            "or.ve",
            "or.vg",
            "or.vi",
            "or.vn",
            "or.vu",
            "or.wf",
            "or.ws",
            "or.ye",
            "or.yt",
            "or.za",
            "or.zm",
            "or.zw",
            "or.uk",
            "ne.ad",
            "ne.ae",
            "ne.af",
            "ne.ag",
            "ne.ai",
            "ne.al",
            "ne.am",
            "ne.ao",
            "ne.aq",
            "ne.ar",
            "ne.as",
            "ne.at",
            "ne.au",
            "ne.aw",
            "ne.ax",
            "ne.az",
            "ne.ba",
            "ne.bb",
            "ne.bd",
            "ne.be",
            "ne.bf",
            "ne.bg",
            "ne.bh",
            "ne.bi",
            "ne.bj",
            "ne.bl",
            "ne.bm",
            "ne.bn",
            "ne.bo",
            "ne.bq",
            "ne.br",
            "ne.bs",
            "ne.bt",
            "ne.bv",
            "ne.bw",
            "ne.by",
            "ne.bz",
            "ne.ca",
            "ne.cc",
            "ne.cd",
            "ne.cf",
            "ne.cg",
            "ne.ch",
            "ne.ci",
            "ne.ck",
            "ne.cl",
            "ne.cm",
            "ne.cn",
            "ne.co",
            "ne.cr",
            "ne.cu",
            "ne.cv",
            "ne.cw",
            "ne.cx",
            "ne.cy",
            "ne.cz",
            "ne.de",
            "ne.dj",
            "ne.dk",
            "ne.dm",
            "ne.do",
            "ne.dz",
            "ne.ec",
            "ne.ee",
            "ne.eg",
            "ne.eh",
            "ne.er",
            "ne.es",
            "ne.et",
            "ne.fi",
            "ne.fj",
            "ne.fk",
            "ne.fm",
            "ne.fo",
            "ne.fr",
            "ne.ga",
            "ne.gb",
            "ne.gd",
            "ne.ge",
            "ne.gf",
            "ne.gg",
            "ne.gh",
            "ne.gi",
            "ne.gl",
            "ne.gm",
            "ne.gn",
            "ne.gp",
            "ne.gq",
            "ne.gr",
            "ne.gs",
            "ne.gt",
            "ne.gu",
            "ne.gw",
            "ne.gy",
            "ne.hk",
            "ne.hm",
            "ne.hn",
            "ne.hr",
            "ne.ht",
            "ne.hu",
            "ne.id",
            "ne.ie",
            "ne.il",
            "ne.im",
            "ne.in",
            "ne.io",
            "ne.iq",
            "ne.ir",
            "ne.is",
            "ne.it",
            "ne.je",
            "ne.jm",
            "ne.jo",
            "ne.jp",
            "ne.ke",
            "ne.kg",
            "ne.kh",
            "ne.ki",
            "ne.km",
            "ne.kn",
            "ne.kp",
            "ne.kr",
            "ne.kw",
            "ne.ky",
            "ne.kz",
            "ne.la",
            "ne.lb",
            "ne.lc",
            "ne.lk",
            "ne.li",
            "ne.lr",
            "ne.ls",
            "ne.lt",
            "ne.lu",
            "ne.lv",
            "ne.ly",
            "ne.ma",
            "ne.mc",
            "ne.md",
            "ne.me",
            "ne.mf",
            "ne.mg",
            "ne.mh",
            "ne.mk",
            "ne.ml",
            "ne.mm",
            "ne.mn",
            "ne.mo",
            "ne.mp",
            "ne.mq",
            "ne.mr",
            "ne.ms",
            "ne.mt",
            "ne.mu",
            "ne.mv",
            "ne.mw",
            "ne.mx",
            "ne.my",
            "ne.mz",
            "ne.na",
            "ne.nc",
            "ne.ne",
            "ne.nf",
            "ne.ng",
            "ne.ni",
            "ne.nl",
            "ne.no",
            "ne.np",
            "ne.nr",
            "ne.nu",
            "ne.nz",
            "ne.om",
            "ne.pa",
            "ne.pe",
            "ne.pf",
            "ne.pg",
            "ne.ph",
            "ne.pk",
            "ne.pl",
            "ne.pm",
            "ne.pn",
            "ne.pr",
            "ne.ps",
            "ne.pt",
            "ne.pw",
            "ne.py",
            "ne.qa",
            "ne.re",
            "ne.ro",
            "ne.rs",
            "ne.ru",
            "ne.rw",
            "ne.sa",
            "ne.sb",
            "ne.sc",
            "ne.sd",
            "ne.se",
            "ne.sg",
            "ne.sh",
            "ne.si",
            "ne.sj",
            "ne.sk",
            "ne.sl",
            "ne.sm",
            "ne.sn",
            "ne.so",
            "ne.sr",
            "ne.ss",
            "ne.st",
            "ne.sv",
            "ne.sx",
            "ne.sy",
            "ne.sz",
            "ne.tc",
            "ne.td",
            "ne.tf",
            "ne.tg",
            "ne.th",
            "ne.tj",
            "ne.tk",
            "ne.tl",
            "ne.tm",
            "ne.tn",
            "ne.to",
            "ne.tr",
            "ne.tt",
            "ne.tv",
            "ne.tw",
            "ne.tz",
            "ne.ua",
            "ne.ug",
            "ne.um",
            "ne.us",
            "ne.uy",
            "ne.uz",
            "ne.va",
            "ne.vc",
            "ne.ve",
            "ne.vg",
            "ne.vi",
            "ne.vn",
            "ne.vu",
            "ne.wf",
            "ne.ws",
            "ne.ye",
            "ne.yt",
            "ne.za",
            "ne.zm",
            "ne.zw",
            "ne.uk",
            "re.ad",
            "re.ae",
            "re.af",
            "re.ag",
            "re.ai",
            "re.al",
            "re.am",
            "re.ao",
            "re.aq",
            "re.ar",
            "re.as",
            "re.at",
            "re.au",
            "re.aw",
            "re.ax",
            "re.az",
            "re.ba",
            "re.bb",
            "re.bd",
            "re.be",
            "re.bf",
            "re.bg",
            "re.bh",
            "re.bi",
            "re.bj",
            "re.bl",
            "re.bm",
            "re.bn",
            "re.bo",
            "re.bq",
            "re.br",
            "re.bs",
            "re.bt",
            "re.bv",
            "re.bw",
            "re.by",
            "re.bz",
            "re.ca",
            "re.cc",
            "re.cd",
            "re.cf",
            "re.cg",
            "re.ch",
            "re.ci",
            "re.ck",
            "re.cl",
            "re.cm",
            "re.cn",
            "re.co",
            "re.cr",
            "re.cu",
            "re.cv",
            "re.cw",
            "re.cx",
            "re.cy",
            "re.cz",
            "re.de",
            "re.dj",
            "re.dk",
            "re.dm",
            "re.do",
            "re.dz",
            "re.ec",
            "re.ee",
            "re.eg",
            "re.eh",
            "re.er",
            "re.es",
            "re.et",
            "re.fi",
            "re.fj",
            "re.fk",
            "re.fm",
            "re.fo",
            "re.fr",
            "re.ga",
            "re.gb",
            "re.gd",
            "re.ge",
            "re.gf",
            "re.gg",
            "re.gh",
            "re.gi",
            "re.gl",
            "re.gm",
            "re.gn",
            "re.gp",
            "re.gq",
            "re.gr",
            "re.gs",
            "re.gt",
            "re.gu",
            "re.gw",
            "re.gy",
            "re.hk",
            "re.hm",
            "re.hn",
            "re.hr",
            "re.ht",
            "re.hu",
            "re.id",
            "re.ie",
            "re.il",
            "re.im",
            "re.in",
            "re.io",
            "re.iq",
            "re.ir",
            "re.is",
            "re.it",
            "re.je",
            "re.jm",
            "re.jo",
            "re.jp",
            "re.ke",
            "re.kg",
            "re.kh",
            "re.ki",
            "re.km",
            "re.kn",
            "re.kp",
            "re.kr",
            "re.kw",
            "re.ky",
            "re.kz",
            "re.la",
            "re.lb",
            "re.lc",
            "re.lk",
            "re.li",
            "re.lr",
            "re.ls",
            "re.lt",
            "re.lu",
            "re.lv",
            "re.ly",
            "re.ma",
            "re.mc",
            "re.md",
            "re.me",
            "re.mf",
            "re.mg",
            "re.mh",
            "re.mk",
            "re.ml",
            "re.mm",
            "re.mn",
            "re.mo",
            "re.mp",
            "re.mq",
            "re.mr",
            "re.ms",
            "re.mt",
            "re.mu",
            "re.mv",
            "re.mw",
            "re.mx",
            "re.my",
            "re.mz",
            "re.na",
            "re.nc",
            "re.ne",
            "re.nf",
            "re.ng",
            "re.ni",
            "re.nl",
            "re.no",
            "re.np",
            "re.nr",
            "re.nu",
            "re.nz",
            "re.om",
            "re.pa",
            "re.pe",
            "re.pf",
            "re.pg",
            "re.ph",
            "re.pk",
            "re.pl",
            "re.pm",
            "re.pn",
            "re.pr",
            "re.ps",
            "re.pt",
            "re.pw",
            "re.py",
            "re.qa",
            "re.re",
            "re.ro",
            "re.rs",
            "re.ru",
            "re.rw",
            "re.sa",
            "re.sb",
            "re.sc",
            "re.sd",
            "re.se",
            "re.sg",
            "re.sh",
            "re.si",
            "re.sj",
            "re.sk",
            "re.sl",
            "re.sm",
            "re.sn",
            "re.so",
            "re.sr",
            "re.ss",
            "re.st",
            "re.sv",
            "re.sx",
            "re.sy",
            "re.sz",
            "re.tc",
            "re.td",
            "re.tf",
            "re.tg",
            "re.th",
            "re.tj",
            "re.tk",
            "re.tl",
            "re.tm",
            "re.tn",
            "re.to",
            "re.tr",
            "re.tt",
            "re.tv",
            "re.tw",
            "re.tz",
            "re.ua",
            "re.ug",
            "re.um",
            "re.us",
            "re.uy",
            "re.uz",
            "re.va",
            "re.vc",
            "re.ve",
            "re.vg",
            "re.vi",
            "re.vn",
            "re.vu",
            "re.wf",
            "re.ws",
            "re.ye",
            "re.yt",
            "re.za",
            "re.zm",
            "re.zw",
            "re.uk",
            "ad",
            "ae",
            "af",
            "ag",
            "ai",
            "al",
            "am",
            "ao",
            "aq",
            "ar",
            "as",
            "at",
            "au",
            "aw",
            "ax",
            "az",
            "ba",
            "bb",
            "bd",
            "be",
            "bf",
            "bg",
            "bh",
            "bi",
            "bj",
            "bl",
            "bm",
            "bn",
            "bo",
            "bq",
            "br",
            "bs",
            "bt",
            "bv",
            "bw",
            "by",
            "bz",
            "ca",
            "cc",
            "cd",
            "cf",
            "cg",
            "ch",
            "ci",
            "ck",
            "cl",
            "cm",
            "cn",
            "co",
            "cr",
            "cu",
            "cv",
            "cw",
            "cx",
            "cy",
            "cz",
            "de",
            "dj",
            "dk",
            "dm",
            "do",
            "dz",
            "ec",
            "ee",
            "eg",
            "eh",
            "er",
            "es",
            "et",
            "fi",
            "fj",
            "fk",
            "fm",
            "fo",
            "fr",
            "ga",
            "gb",
            "gd",
            "ge",
            "gf",
            "gg",
            "gh",
            "gi",
            "gl",
            "gm",
            "gn",
            "gp",
            "gq",
            "gr",
            "gs",
            "gt",
            "gu",
            "gw",
            "gy",
            "hk",
            "hm",
            "hn",
            "hr",
            "ht",
            "hu",
            "id",
            "ie",
            "il",
            "im",
            "in",
            "io",
            "iq",
            "ir",
            "is",
            "it",
            "je",
            "jm",
            "jo",
            "jp",
            "ke",
            "kg",
            "kh",
            "ki",
            "km",
            "kn",
            "kp",
            "kr",
            "kw",
            "ky",
            "kz",
            "la",
            "lb",
            "lc",
            "lk",
            "li",
            "lr",
            "ls",
            "lt",
            "lu",
            "lv",
            "ly",
            "ma",
            "mc",
            "md",
            "me",
            "mf",
            "mg",
            "mh",
            "mk",
            "ml",
            "mm",
            "mn",
            "mo",
            "mp",
            "mq",
            "mr",
            "ms",
            "mt",
            "mu",
            "mv",
            "mw",
            "mx",
            "my",
            "mz",
            "na",
            "nc",
            "ne",
            "nf",
            "ng",
            "ni",
            "nl",
            "no",
            "np",
            "nr",
            "nu",
            "nz",
            "om",
            "pa",
            "pe",
            "pf",
            "pg",
            "ph",
            "pk",
            "pl",
            "pm",
            "pn",
            "pr",
            "ps",
            "pt",
            "pw",
            "py",
            "qa",
            "re",
            "ro",
            "rs",
            "ru",
            "rw",
            "sa",
            "sb",
            "sc",
            "sd",
            "se",
            "sg",
            "sh",
            "si",
            "sj",
            "sk",
            "sl",
            "sm",
            "sn",
            "so",
            "sr",
            "ss",
            "st",
            "sv",
            "sx",
            "sy",
            "sz",
            "tc",
            "td",
            "tf",
            "tg",
            "th",
            "tj",
            "tk",
            "tl",
            "tm",
            "tn",
            "to",
            "tr",
            "tt",
            "tv",
            "tw",
            "tz",
            "ua",
            "ug",
            "um",
            "us",
            "uy",
            "uz",
            "va",
            "vc",
            "ve",
            "vg",
            "vi",
            "vn",
            "vu",
            "wf",
            "ws",
            "ye",
            "yt",
            "za",
            "zm",
            "zw",
            "uk",
            "beer",
            "best",
            "bid",
            "bike",
            "bingo",
            "bio",
            "black",
            "blackfriday",
            "blog",
            "blue",
            "boo",
            "boutique",
            "build",
            "builders",
            "business",
            "buzz",
            "cab",
            "cafe",
            "cam",
            "camera",
            "camp",
            "cancerresearch",
            "capital",
            "cards",
            "care",
            "career",
            "careers",
            "cars",
            "cash",
            "casino",
            "catering",
            "center",
            "ceo",
            "channel",
            "chat",
            "cheap",
            "christmas",
            "church",
            "city",
            "claims",
            "cleaning",
            "click",
            "clinic",
            "clothing",
            "cloud",
            "club",
            "coach",
            "codes",
            "coffee",
            "college",
            "community",
            "company",
            "computer",
            "condos",
            "construction",
            "consulting",
            "contractors",
            "cooking",
            "cool",
            "country",
            "coupons",
            "credit",
            "creditcard",
            "cricket",
            "cruises",
            "dad",
            "dance",
            "date",
            "dating",
            "day",
            "deals",
            "degree",
            "delivery",
            "democrat",
            "dental",
            "dentist",
            "design",
            "diamonds",
            "diet",
            "digital",
            "direct",
            "directory",
            "discount",
            "dog",
            "domains",
            "download",
            "eat",
            "education",
            "email",
            "energy",
            "engineer",
            "engineering",
            "equipment",
            "esq",
            "estate",
            "events",
            "exchange",
            "expert",
            "exposed",
            "express",
            "fail",
            "faith",
            "family",
            "fans",
            "farm",
            "fashion",
            "feedback",
            "finance",
            "financial",
            "fish",
            "fishing",
            "fit",
            "fitness",
            "flights",
            "florist",
            "flowers",
            "fly",
            "foo",
            "football",
            "forsale",
            "foundation",
            "fund",
            "furniture",
            "fyi",
            "gallery",
            "garden",
            "gift",
            "gifts",
            "gives",
            "glass",
            "global",
            "gold",
            "golf",
            "gop",
            "graphics",
            "green",
            "gripe",
            "guide",
            "guitars",
            "guru",
            "healthcare",
            "help",
            "here",
            "hiphop",
            "hiv",
            "hockey",
            "holdings",
            "holiday",
            "homes",
            "horse",
            "host",
            "hosting",
            "house",
            "how",
            "ing",
            "ink",
            "institute",
            "insure",
            "international",
            "investments",
            "jewelry",
            "kim",
            "kitchen",
            "land",
            "lawyer",
            "lease",
            "legal",
            "lgbt",
            "life",
            "lighting",
            "limited",
            "limo",
            "link",
            "loan",
            "loans",
            "lol",
            "lotto",
            "love",
            "luxe",
            "luxury",
            "management",
            "market",
            "marketing",
            "markets",
            "mba",
            "media",
            "meet",
            "meme",
            "memorial",
            "men",
            "browserMenu",
            "moe",
            "money",
            "mortgage",
            "motorcycles",
            "mov",
            "movie",
            "navy",
            "network",
            "new",
            "news",
            "ngo",
            "ninja",
            "one",
            "ong",
            "onl",
            "online",
            "ooo",
            "organic",
            "partners",
            "parts",
            "party",
            "pharmacy",
            "photo",
            "photography",
            "photos",
            "physio",
            "pics",
            "pictures",
            "pid",
            "pink",
            "pizza",
            "place",
            "plumbing",
            "plus",
            "poker",
            "porn",
            "press",
            "productions",
            "prof",
            "properties",
            "property",
            "qpon",
            "racing",
            "recipes",
            "red",
            "rehab",
            "ren",
            "rent",
            "rentals",
            "repair",
            "report",
            "republican",
            "rest",
            "review",
            "reviews",
            "rich",
            "rip",
            "rocks",
            "rodeo",
            "rsvp",
            "run",
            "sale",
            "school",
            "science",
            "services",
            "sex",
            "sexy",
            "shoes",
            "show",
            "singles",
            "site",
            "soccer",
            "social",
            "software",
            "solar",
            "solutions",
            "space",
            "studio",
            "style",
            "sucks",
            "supplies",
            "supply",
            "support",
            "surf",
            "surgery",
            "systems",
            "tattoo",
            "tax",
            "taxi",
            "team",
            "store",
            "tech",
            "technology",
            "tennis",
            "theater",
            "tips",
            "tires",
            "today",
            "tools",
            "top",
            "tours",
            "town",
            "toys",
            "trade",
            "training",
            "university",
            "vacations",
            "vet",
            "video",
            "villas",
            "vision",
            "vodka",
            "vote",
            "voting",
            "voyage",
            "wang",
            "watch",
            "webcam",
            "website",
            "wed",
            "wedding",
            "whoswho",
            "win",
            "wine",
            "work",
            "works",
            "world",
            "wtf",
            "xxx",
            "xyz",
            "yoga",
            "zone",
            "webwave.dev",
            "vip",
            "app",
            "live",
            "aaa",
            "aarp",
            "abarth",
            "abb",
            "abbott",
            "abbvie",
            "abc",
            "able",
            "abogado",
            "abudhabi",
            "ac",
            "academy",
            "accenture",
            "accountant",
            "accountants",
            "aco",
            "actor",
            "adac",
            "ads",
            "adult",
            "aeg",
            "aetna",
            "afl",
            "africa",
            "agakhan",
            "agency",
            "aig",
            "airbus",
            "airforce",
            "airtel",
            "akdn",
            "alfaromeo",
            "alibaba",
            "alipay",
            "allfinanz",
            "allstate",
            "ally",
            "alsace",
            "alstom",
            "amazon",
            "americanexpress",
            "americanfamily",
            "amex",
            "amfam",
            "amica",
            "amsterdam",
            "analytics",
            "android",
            "anquan",
            "anz",
            "aol",
            "apartments",
            "apple",
            "aquarelle",
            "arab",
            "aramco",
            "archi",
            "army",
            "art",
            "arte",
            "asda",
            "associates",
            "athleta",
            "attorney",
            "auction",
            "audi",
            "audible",
            "audio",
            "auspost",
            "author",
            "auto",
            "autos",
            "avianca",
            "aws",
            "axa",
            "azure",
            "baby",
            "baidu",
            "banamex",
            "bananarepublic",
            "band",
            "bank",
            "bar",
            "barcelona",
            "barclaycard",
            "barclays",
            "barefoot",
            "bargains",
            "baseball",
            "basketball",
            "bauhaus",
            "bayern",
            "bbc",
            "bbt",
            "bbva",
            "bcg",
            "bcn",
            "beats",
            "beauty",
            "bentley",
            "berlin",
            "bestbuy",
            "bet",
            "bharti",
            "bible",
            "bing",
            "blockbuster",
            "bloomberg",
            "bms",
            "bmw",
            "bnpparibas",
            "boats",
            "boehringer",
            "bofa",
            "bom",
            "bond",
            "book",
            "booking",
            "bosch",
            "bostik",
            "boston",
            "bot",
            "box",
            "bradesco",
            "bridgestone",
            "broadway",
            "broker",
            "brother",
            "brussels",
            "buy",
            "bzh",
            "cal",
            "call",
            "calvinklein",
            "canon",
            "capetown",
            "capitalone",
            "car",
            "caravan",
            "casa",
            "case",
            "catholic",
            "cba",
            "cbn",
            "cbre",
            "cbs",
            "cern",
            "cfa",
            "cfd",
            "chanel",
            "charity",
            "chase",
            "chintai",
            "chrome",
            "cipriani",
            "circle",
            "cisco",
            "citadel",
            "citi",
            "citic",
            "cityeats",
            "clinique",
            "clubmed",
            "cologne",
            "comcast",
            "commbank",
            "compare",
            "comsec",
            "contact",
            "cookingchannel",
            "corsica",
            "coupon",
            "courses",
            "cpa",
            "creditunion",
            "crown",
            "crs",
            "cruise",
            "cuisinella",
            "cymru",
            "cyou",
            "dabur",
            "data",
            "datsun",
            "dclk",
            "dds",
            "deal",
            "dealer",
            "dell",
            "deloitte",
            "delta",
            "desi",
            "dev",
            "dhl",
            "discover",
            "dish",
            "diy",
            "dnp",
            "docs",
            "doctor",
            "dot",
            "drive",
            "dtv",
            "dubai",
            "dunlop",
            "dupont",
            "durban",
            "dvag",
            "dvr",
            "earth",
            "eco",
            "edeka",
            "emerck",
            "enterprises",
            "epson",
            "ericsson",
            "erni",
            "etisalat",
            "eu",
            "eurovision",
            "eus",
            "extraspace",
            "fage",
            "fairwinds",
            "fan",
            "farmers",
            "fast",
            "fedex",
            "ferrari",
            "ferrero",
            "fiat",
            "fidelity",
            "fido",
            "film",
            "final",
            "fire",
            "firestone",
            "firmdale",
            "flickr",
            "flir",
            "food",
            "foodnetwork",
            "ford",
            "forex",
            "forum",
            "fox",
            "free",
            "fresenius",
            "frl",
            "frogans",
            "frontdoor",
            "frontier",
            "ftr",
            "fujitsu",
            "fun",
            "futbol",
            "gal",
            "gallo",
            "gallup",
            "game",
            "games",
            "gap",
            "gay",
            "gbiz",
            "gdn",
            "gea",
            "gent",
            "genting",
            "george",
            "ggee",
            "giving",
            "globo",
            "gmail",
            "gmbh",
            "gmo",
            "gmx",
            "godaddy",
            "goldpoint",
            "goo",
            "goodyear",
            "got",
            "grainger",
            "gratis",
            "grocery",
            "group",
            "guardian",
            "gucci",
            "guge",
            "hair",
            "hamburg",
            "hangout",
            "haus",
            "hbo",
            "hdfc",
            "hdfcbank",
            "health",
            "helsinki",
            "hermes",
            "hgtv",
            "hisamitsu",
            "hitachi",
            "hkt",
            "homedepot",
            "homegoods",
            "homesense",
            "honda",
            "hospital",
            "hot",
            "hoteles",
            "hotels",
            "hotmail",
            "hsbc",
            "hughes",
            "hyatt",
            "hyundai",
            "ibm",
            "icbc",
            "ice",
            "icu",
            "ieee",
            "ifm",
            "ikano",
            "imamat",
            "imdb",
            "immo",
            "immobilien",
            "inc",
            "industries",
            "infiniti",
            "insurance",
            "intuit",
            "ipiranga",
            "irish",
            "ismaili",
            "ist",
            "istanbul",
            "itau",
            "itv",
            "jaguar",
            "java",
            "jcb",
            "jeep",
            "jetzt",
            "jio",
            "jll",
            "jmp",
            "jnj",
            "joburg",
            "jot",
            "joy",
            "jpmorgan",
            "jprs",
            "juegos",
            "juniper",
            "kaufen",
            "kddi",
            "kerryhotels",
            "kerrylogistics",
            "kerryproperties",
            "kfh",
            "kia",
            "kids",
            "kinder",
            "kindle",
            "kiwi",
            "koeln",
            "komatsu",
            "kosher",
            "kpmg",
            "kpn",
            "krd",
            "kred",
            "kuokgroup",
            "kyoto",
            "lacaixa",
            "lamborghini",
            "lamer",
            "lancaster",
            "lancia",
            "landrover",
            "lanxess",
            "lasalle",
            "lat",
            "latino",
            "latrobe",
            "law",
            "lds",
            "leclerc",
            "lefrak",
            "lego",
            "lexus",
            "lidl",
            "lifeinsurance",
            "lifestyle",
            "like",
            "lilly",
            "lincoln",
            "linde",
            "lipsy",
            "living",
            "llc",
            "llp",
            "locker",
            "locus",
            "loft",
            "london",
            "lotte",
            "lpl",
            "lplfinancial",
            "ltd",
            "ltda",
            "lundbeck",
            "macys",
            "madrid",
            "maif",
            "maison",
            "makeup",
            "man",
            "mango",
            "map",
            "marriott",
            "marshalls",
            "maserati",
            "mattel",
            "mckinsey",
            "med",
            "melbourne",
            "merckmsd",
            "miami",
            "mini",
            "mint",
            "mit",
            "mitsubishi",
            "mlb",
            "mls",
            "mma",
            "mobile",
            "moda",
            "moi",
            "mom",
            "monash",
            "monster",
            "mormon",
            "moscow",
            "moto",
            "msd",
            "mtn",
            "mtr",
            "music",
            "mutual",
            "nab",
            "nagoya",
            "natura",
            "nba",
            "nec",
            "netbank",
            "netflix",
            "neustar",
            "next",
            "nextdirect",
            "nexus",
            "nfl",
            "nhk",
            "nico",
            "nike",
            "nikon",
            "nissan",
            "nissay",
            "nokia",
            "northwesternmutual",
            "norton",
            "now",
            "nowruz",
            "nowtv",
            "nra",
            "nrw",
            "ntt",
            "nyc",
            "obi",
            "observer",
            "office",
            "okinawa",
            "olayan",
            "olayangroup",
            "oldnavy",
            "ollo",
            "omega",
            "open",
            "oracle",
            "orange",
            "origins",
            "osaka",
            "otsuka",
            "ott",
            "ovh",
            "page",
            "panasonic",
            "paris",
            "pars",
            "passagens",
            "pay",
            "pccw",
            "pet",
            "pfizer",
            "phd",
            "philips",
            "phone",
            "pictet",
            "pin",
            "ping",
            "pioneer",
            "play",
            "playstation",
            "pnc",
            "pohl",
            "politie",
            "pramerica",
            "praxi",
            "prime",
            "prod",
            "progressive",
            "promo",
            "protection",
            "pru",
            "prudential",
            "pub",
            "pwc",
            "quebec",
            "quest",
            "radio",
            "read",
            "realestate",
            "realtor",
            "realty",
            "redstone",
            "redumbrella",
            "reise",
            "reisen",
            "reit",
            "reliance",
            "restaurant",
            "rexroth",
            "richardli",
            "ricoh",
            "ril",
            "rio",
            "rocher",
            "rogers",
            "room",
            "rugby",
            "ruhr",
            "rwe",
            "ryukyu",
            "saarland",
            "safe",
            "safety",
            "sakura",
            "salon",
            "samsclub",
            "samsung",
            "sandvik",
            "sandvikcoromant",
            "sanofi",
            "sap",
            "sarl",
            "sas",
            "save",
            "saxo",
            "sbi",
            "sbs",
            "sca",
            "scb",
            "schaeffler",
            "schmidt",
            "scholarships",
            "schule",
            "schwarz",
            "scot",
            "search",
            "seat",
            "secure",
            "security",
            "seek",
            "select",
            "sener",
            "ses",
            "seven",
            "sew",
            "sfr",
            "shangrila",
            "sharp",
            "shaw",
            "shell",
            "shia",
            "shiksha",
            "shop",
            "shopping",
            "shouji",
            "showtime",
            "silk",
            "sina",
            "ski",
            "skin",
            "sky",
            "skype",
            "sling",
            "smart",
            "smile",
            "sncf",
            "softbank",
            "sohu",
            "song",
            "sony",
            "soy",
            "spa",
            "sport",
            "spot",
            "srl",
            "stada",
            "staples",
            "star",
            "statebank",
            "statefarm",
            "stc",
            "stcgroup",
            "stockholm",
            "storage",
            "stream",
            "study",
            "su",
            "suzuki",
            "swatch",
            "swiss",
            "sydney",
            "tab",
            "taipei",
            "talk",
            "taobao",
            "target",
            "tatamotors",
            "tatar",
            "tci",
            "tdk",
            "temasek",
            "teva",
            "thd",
            "theatre",
            "tiaa",
            "tickets",
            "tienda",
            "tiffany",
            "tirol",
            "tjmaxx",
            "tjx",
            "tkmaxx",
            "tmall",
            "tokyo",
            "toray",
            "toshiba",
            "total",
            "toyota",
            "trading",
            "travelchannel",
            "travelers",
            "travelersinsurance",
            "trust",
            "trv",
            "tube",
            "tui",
            "tunes",
            "tushu",
            "tvs",
            "ubank",
            "ubs",
            "unicom",
            "uno",
            "uol",
            "ups",
            "vana",
            "vanguard",
            "vegas",
            "ventures",
            "verisign",
            "versicherung",
            "viajes",
            "vig",
            "viking",
            "vin",
            "virgin",
            "visa",
            "viva",
            "vivo",
            "vlaanderen",
            "volkswagen",
            "volvo",
            "voto",
            "vuelos",
            "wales",
            "walmart",
            "walter",
            "wanggou",
            "watches",
            "weather",
            "weatherchannel",
            "weber",
            "weibo",
            "weir",
            "wien",
            "williamhill",
            "windows",
            "winners",
            "wme",
            "wolterskluwer",
            "woodside",
            "wow",
            "wtc",
            "xbox",
            "xerox",
            "xfinity",
            "xihuan",
            "xin",
            "xn--11b4c3d",
            "xn--1ck2e1b",
            "xn--1qqw23a",
            "xn--2scrj9c",
            "xn--30rr7y",
            "xn--3bst00m",
            "xn--3ds443g",
            "xn--3e0b707e",
            "xn--3hcrj9c",
            "xn--3pxu8k",
            "xn--42c2d9a",
            "xn--45br5cyl",
            "xn--45brj9c",
            "xn--45q11c",
            "xn--4dbrk0ce",
            "xn--4gbrim",
            "xn--54b7fta0cc",
            "xn--55qw42g",
            "xn--55qx5d",
            "xn--5su34j936bgsg",
            "xn--5tzm5g",
            "xn--6frz82g",
            "xn--6qq986b3xl",
            "xn--80adxhks",
            "xn--80ao21a",
            "xn--80aqecdr1a",
            "xn--80asehdb",
            "xn--80aswg",
            "xn--8y0a063a",
            "xn--90a3ac",
            "xn--90ae",
            "xn--90ais",
            "xn--9dbq2a",
            "xn--9et52u",
            "xn--9krt00a",
            "xn--b4w605ferd",
            "xn--bck1b9a5dre4c",
            "xn--c1avg",
            "xn--c2br7g",
            "xn--cck2b3b",
            "xn--cckwcxetd",
            "xn--cg4bki",
            "xn--clchc0ea0b2g2a9gcd",
            "xn--czr694b",
            "xn--czrs0t",
            "xn--czru2d",
            "xn--d1acj3b",
            "xn--d1alf",
            "xn--e1a4c",
            "xn--eckvdtc9d",
            "xn--efvy88h",
            "xn--fct429k",
            "xn--fhbei",
            "xn--fiq228c5hs",
            "xn--fiq64b",
            "xn--fiqs8s",
            "xn--fiqz9s",
            "xn--fjq720a",
            "xn--flw351e",
            "xn--fpcrj9c3d",
            "xn--fzc2c9e2c",
            "xn--fzys8d69uvgm",
            "xn--g2xx48c",
            "xn--gckr3f0f",
            "xn--gecrj9c",
            "xn--gk3at1e",
            "xn--h2breg3eve",
            "xn--h2brj9c",
            "xn--h2brj9c8c",
            "xn--hxt814e",
            "xn--i1b6b1a6a2e",
            "xn--imr513n",
            "xn--io0a7i",
            "xn--j1aef",
            "xn--j1amh",
            "xn--j6w193g",
            "xn--jlq480n2rg",
            "xn--jlq61u9w7b",
            "xn--jvr189m",
            "xn--kcrx77d1x4a",
            "xn--kprw13d",
            "xn--kpry57d",
            "xn--kput3i",
            "xn--l1acc",
            "xn--lgbbat1ad8j",
            "xn--mgb9awbf",
            "xn--mgba3a3ejt",
            "xn--mgba3a4f16a",
            "xn--mgba7c0bbn0a",
            "xn--mgbaakc7dvf",
            "xn--mgbaam7a8h",
            "xn--mgbab2bd",
            "xn--mgbah1a3hjkrd",
            "xn--mgbai9azgqp6j",
            "xn--mgbayh7gpa",
            "xn--mgbbh1a",
            "xn--mgbbh1a71e",
            "xn--mgbc0a9azcg",
            "xn--mgbca7dzdo",
            "xn--mgbcpq6gpa1a",
            "xn--mgberp4a5d4ar",
            "xn--mgbgu82a",
            "xn--mgbi4ecexp",
            "xn--mgbpl2fh",
            "xn--mgbt3dhd",
            "xn--mgbtx2b",
            "xn--mgbx4cd0ab",
            "xn--mix891f",
            "xn--mk1bu44c",
            "xn--mxtq1m",
            "xn--ngbc5azd",
            "xn--ngbe9e0a",
            "xn--ngbrx",
            "xn--node",
            "xn--nqv7f",
            "xn--nqv7fs00ema",
            "xn--nyqy26a",
            "xn--o3cw4h",
            "xn--ogbpf8fl",
            "xn--otu796d",
            "xn--p1acf",
            "xn--p1ai",
            "xn--pgbs0dh",
            "xn--pssy2u",
            "xn--q7ce6a",
            "xn--q9jyb4c",
            "xn--qcka1pmc",
            "xn--qxa6a",
            "xn--qxam",
            "xn--rhqv96g",
            "xn--rovu88b",
            "xn--rvc1e0am3e",
            "xn--s9brj9c",
            "xn--ses554g",
            "xn--t60b56a",
            "xn--tckwe",
            "xn--tiq49xqyj",
            "xn--unup4y",
            "xn--vermgensberater-ctb",
            "xn--vermgensberatung-pwb",
            "xn--vhquv",
            "xn--vuq861b",
            "xn--w4r85el8fhu5dnra",
            "xn--w4rs40l",
            "xn--wgbh1c",
            "xn--wgbl6a",
            "xn--xhq521b",
            "xn--xkc2al3hye2a",
            "xn--xkc2dl3a5ee0h",
            "xn--y9a3aq",
            "xn--yfro4i67o",
            "xn--ygbi2ammx",
            "xn--zfr164b",
            "yachts",
            "yahoo",
            "yamaxun",
            "yodobashi",
            "yokohama",
            "you",
            "yun",
            "zappos",
            "zara",
            "zero",
            "zuerich"
    ));
    

    @RequiresApi(api = VERSION_CODES.KITKAT)
    @Override
    public void onNotificationPosted(StatusBarNotification notification) {
        handleNotification(notification, false);
    }

    @RequiresApi(api = VERSION_CODES.KITKAT)
    @Override
    public void onNotificationRemoved(StatusBarNotification notification) {
//        System.out.println("알림 제거 발생");
        handleNotification(notification, true);
    }

    @RequiresApi(api = VERSION_CODES.KITKAT)
    private void handleNotification(StatusBarNotification notification, boolean isRemoved) {
        String packageName = notification.getPackageName();
        String tag = notification.getTag();
//        System.out.println("1차 앱 확인 : " + packageName);
//         try {
//             return defaultSMS = Telephony.Sms.getDefaultSmsPackage(context).toString();
//         } catch (Exception e) {
//             return defaultSMS = "error";

//         }

//        System.out.println("기본 메시지앱 확인" + defaultSMS);
//         if(packageName.equals("org.telegram.messenger")) {
//             System.out.println("노티 확인 : " + notification);
//         }


        NotificationManager notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
        StatusBarNotification[] barNotifications = notificationManager.getActiveNotifications();
//       System.out.println("노티피케이션 확인 :" + barNotifications);
//         packageName.equals("com.samsung.android.messaging")
        notiDb = NotiDatabase.getInstance(getApplicationContext());
         List<String> m1 = notiDb.MessageListDao().getAll();
        System.out.println("알림 받을 앱 확인 : " + m1);

//          if(packageName.equals("com.kakao.talk") || packageName.equals("com.whatsapp") || packageName.equals(defaultSMS)) {
//        if(packageName.equals("com.kakao.talk") || packageName.equals("com.whatsapp") || packageName.equals("com.samsung.android.messaging") || packageName.equals("com.google.android.apps.messaging")
//           || packageName.equals("jp.naver.line.android") || packageName.equals("org.telegram.messenger") || packageName.equals("com.instagram.android") || packageName.equals("com.facebook.orca")) {
//         if(m1.contains("com.kakao.talk") || m1.contains("com.whatsapp") || m1.contains("com.samsung.android.messaging") || m1.contains("com.google.android.apps.messaging")) {
         if(m1.contains(packageName)) {
//            System.out.println("앱 실행 여부 : " + runApp);
            Bundle extras = notification.getNotification().extras;
//             System.out.println("2차 앱 확인 : " + packageName);
//            try{
//                byte[] drawable = getSmallIcon(packageName);
//            } catch (Exception e) {
//                System.out.println("에러 확인" + e);
//            }
//            System.out.println("번들 확인 :" + extras);

            Action action = NotificationUtils.getQuickReplyAction(notification.getNotification(), packageName);

            Intent intent = new Intent(NotificationConstants.INTENT);
            intent.putExtra(NotificationConstants.PACKAGE_NAME, packageName);
            intent.putExtra(NotificationConstants.ID, notification.getId());
            intent.putExtra(NotificationConstants.TAG, tag);
            intent.putExtra(NotificationConstants.CAN_REPLY, action != null);

            if (NotificationUtils.getQuickReplyAction(notification.getNotification(), packageName) != null) {
                cachedNotifications.put(notification.getTag(), action);
            }

            if (extras != null) {
                CharSequence title = extras.getCharSequence(Notification.EXTRA_TITLE);
                CharSequence text = extras.getCharSequence(Notification.EXTRA_TEXT);
                CharSequence subText = extras.getCharSequence(Notification.EXTRA_SUB_TEXT );
//                 CharSequence bigText = extras.getCharSequence(Notification.EXTRA_BIG_TEXT );
//                 CharSequence infoText = extras.getCharSequence(Notification.EXTRA_INFO_TEXT );
//                 CharSequence summaryText = extras.getCharSequence(Notification.EXTRA_SUMMARY_TEXT );
//                 System.out.println("타이틀 확인 : " + title);
//                 System.out.println("텍스트 확인 : " + text);
//                 System.out.println("서브텍스트 확인 : " + subText);
                if(packageName.equals("org.telegram.messenger")) {
                    if(title.toString().contains(":")) {
                        subText = title.toString().substring(0, title.toString().indexOf(":"));
                        title = title.toString().substring(title.toString().indexOf(":") + 2, title.toString().length());
                    }
                }

                if(packageName.equals("com.instagram.android")) {
                    if(text.toString().startsWith(title.toString() + ":")) {
                        System.out.println("파싱 전 : " + text);
                        text = text.toString().substring(text.toString().indexOf(title.toString() + ":") + 5, text.toString().length());
                        System.out.println("파싱 후 : " + text);
                    }
                }
                

                intent.putExtra(NotificationConstants.NOTIFICATION_TITLE, title == null ? null : title.toString());
                intent.putExtra(NotificationConstants.NOTIFICATION_CONTENT, text == null ? null : text.toString());
                intent.putExtra(NotificationConstants.NOTIFICATION_SUBCONTENT, subText == null ? (title == null ? "Send" : title.toString()) : subText.toString());
                intent.putExtra(NotificationConstants.IS_REMOVED, isRemoved);
                intent.putExtra(NotificationConstants.HAS_EXTRAS_PICTURE, extras.containsKey(Notification.EXTRA_PICTURE));

                
                String room = "";
//                 if(subText != null && !subText.toString().contains("새로운 메시지")) {
                if(subText != null) {
                    room = subText.toString();
                } else {
                    if(title != null) {
                        room = title.toString();
                    } else {
                        room = "UnKnown";
                    }
                }
                
                LocalDateTime now = LocalDateTime.now();
                String formatedNow = now.format(DateTimeFormatter.ofPattern("a hh:mm"));
                String formatedNow2 = now.format(DateTimeFormatter.ofPattern("yyyy-MM-dd"));

//                 if(title != null && text != null && !subText.toString().contains("새로운 메시지")) {
                if(title != null && text != null) {
                    
                    int roomnid = notiDb.RoomDataDao().checkId(room);
                    int kakaoroomnid = notiDb.KakaoRoomDataDao().checkId(room);
                    int whatsapproomnid = notiDb.WhatsappRoomDataDao().checkId(room);
                    int telegramroomnid = notiDb.TelegramRoomDataDao().checkId(room);
                    int lineroomnid = notiDb.LineRoomDataDao().checkId(room);
                    int instagramroomnid = notiDb.InstagramRoomDataDao().checkId(room);
                    int facebookroomnid = notiDb.FacebookRoomDataDao().checkId(room);

//                     System.out.println("텔레그램 방 ID 확인 : " + telegramroomnid);


                    if((packageName.equals("com.samsung.android.messaging") || packageName.equals("com.google.android.apps.messaging"))) {

                        RoomData roomData = new RoomData();
                        roomData.room = room;
                        roomData.app = packageName;
                        roomData.vsDate = formatedNow2;
                        roomData.isSafe = 1;

                        if(isRemoved == false) {
                            if(roomnid == 0) {
                                notiDb.RoomDataDao().insert(roomData);
                            } else {
                                notiDb.RoomDataDao().delete(room);
                                notiDb.RoomDataDao().insert(roomData);

                            }
                        }
                    } else if(packageName.equals("com.kakao.talk")
                              && (!room.equals("카카오톡") || !room.equals("KakaoTalk"))) {

                        KakaoRoomData kakaoroomData = new KakaoRoomData();
                        kakaoroomData.room = room;
                        kakaoroomData.vsDate = formatedNow2;
                        kakaoroomData.isSafe = 1;

                        if(isRemoved == false) {
                            if(kakaoroomnid == 0) {
                                notiDb.KakaoRoomDataDao().insert(kakaoroomData);
                            } else {
                                notiDb.KakaoRoomDataDao().delete(room);
                                notiDb.KakaoRoomDataDao().insert(kakaoroomData);
                            }
                        }

                    } else if(packageName.equals("com.whatsapp")) {

                        WhatsappRoomData whatsapproomData = new WhatsappRoomData();
                        whatsapproomData.room = room;
                        whatsapproomData.vsDate = formatedNow2;
                        whatsapproomData.isSafe = 1;

                        if(isRemoved == false) {
                            if(whatsapproomnid == 0) {
                                notiDb.WhatsappRoomDataDao().insert(whatsapproomData);
                            } else {
                                notiDb.WhatsappRoomDataDao().delete(room);
                                notiDb.WhatsappRoomDataDao().insert(whatsapproomData);
                            }
                        }

                    } else if(packageName.equals("org.telegram.messenger") 
                              && (!room.equals("텔레그램") || !room.equals("Telegram"))) {

                        TelegramRoomData telegramroomData = new TelegramRoomData();
                        telegramroomData.room = room;
                        telegramroomData.vsDate = formatedNow2;
                        telegramroomData.isSafe = 1;

                        if(isRemoved == false) {
                            if(telegramroomnid == 0) {
                                notiDb.TelegramRoomDataDao().insert(telegramroomData);
                            } else {
                                notiDb.TelegramRoomDataDao().delete(room);
                                notiDb.TelegramRoomDataDao().insert(telegramroomData);
                            }
                        }
                    } else if(packageName.equals("jp.naver.line.android")) {

                        LineRoomData lineroomData = new LineRoomData();
                        lineroomData.room = room;
                        lineroomData.vsDate = formatedNow2;
                        lineroomData.isSafe = 1;

                        if(isRemoved == false) {
                            if(lineroomnid == 0) {
                                notiDb.LineRoomDataDao().insert(lineroomData);
                            } else {
                                notiDb.LineRoomDataDao().delete(room);
                                notiDb.LineRoomDataDao().insert(lineroomData);
                            }
                        }

                    } else if(packageName.equals("com.instagram.android")) {
                        InstagramRoomData instagramroomData = new InstagramRoomData();
                        instagramroomData.room = room;
                        instagramroomData.vsDate = formatedNow2;
                        instagramroomData.isSafe = 1;

                        if(isRemoved == false) {
                            if(instagramroomnid == 0) {
                                notiDb.InstagramRoomDataDao().insert(instagramroomData);
                            } else {
                                notiDb.InstagramRoomDataDao().delete(room);
                                notiDb.InstagramRoomDataDao().insert(instagramroomData);
                            }
                        }

                    } else if(packageName.equals("com.facebook.orca")) {

                        FacebookRoomData facebookroomData = new FacebookRoomData();
                        facebookroomData.room = room;
                        facebookroomData.vsDate = formatedNow2;
                        facebookroomData.isSafe = 1;

                        if(isRemoved == false) {
                            if(facebookroomnid == 0) {
                                notiDb.FacebookRoomDataDao().insert(facebookroomData);
                            } else {
                                notiDb.FacebookRoomDataDao().delete(room);
                                notiDb.FacebookRoomDataDao().insert(facebookroomData);
                            }
                        }
                    }

                    Matcher matcher = pattern.matcher(text.toString());
                    List<String> urlList = new ArrayList<String>();
                    String hasUrl = "yet";
                    String result = "yet";

                    while (matcher.find()) {
                        if(!matcher.group().startsWith("http")) {
                            String parsing = "http://" + matcher.group();
                            boolean check = tldCheck(parsing);
                            if(check == true) {
                                urlList.add(parsing);
                            }
//                             text = text.toString().replace(matcher.group(), parsing + " ");
                        } else if(matcher.group().startsWith("https")) {
                            urlList.add(matcher.group());
//                             text = text.toString().replace(matcher.group(), matcher.group() + " ");
                        }
                    }

                    if(urlList.size() == 0 || text.toString().startsWith("파일: ")) {
//                         System.out.println("URL 없음");
                        hasUrl = "N";
                        result = "N";
                    }

                    if((packageName.equals("com.samsung.android.messaging") || packageName.equals("com.google.android.apps.messaging")) 
                       && !text.toString().contains("메시지 보기")) {
//                    if(packageName.contains("messaging") || packageName.contains("messenger")) {
//                        System.out.println("name 확인 :" + title);
//                        noti.name = title.toString();

                        noti.name = title.toString();
                        noti.text = text.toString();
                        noti.room = room;
                        noti.date = formatedNow;
                        noti.vsDate = formatedNow2;
                        noti.send = 1;
                        noti.result = result;
                        noti.app = packageName;
                        noti.read = "2";
                        noti.url = hasUrl;
//                         if(runApp == false) notiDb.NotiDao().insert(noti);
//                         notiDb.NotiDao().insert(noti);
                       
                        if(isRemoved == false) notiDb.NotiDao().insert(noti);
//                         if(runApp == false && isRemoved == false) {
//                             notiDb.NotiDao().insert(noti);
//                         }
                    } else if(packageName.equals("com.kakao.talk") 
                              && (!title.equals("카카오톡") || !title.equals("KakaoTalk"))) {
                        kakaonoti.name = title.toString();
                        kakaonoti.text = text.toString();
                        kakaonoti.room = room;
                        kakaonoti.date = formatedNow;
                        kakaonoti.vsDate = formatedNow2;
                        kakaonoti.send = 1;
                        kakaonoti.result = result;
                        kakaonoti.app = "2";
                        kakaonoti.read = "2";
                        kakaonoti.url = hasUrl;
//                         if(runApp == false)  notiDb.KakaoDao().insert(kakaonoti);
//                         notiDb.KakaoDao().insert(kakaonoti);
                        if(isRemoved == false) notiDb.KakaoDao().insert(kakaonoti);
//                         if(runApp == false && isRemoved == false) { 
//                             notiDb.KakaoDao().insert(kakaonoti);
//                         }
                    } else if(packageName.equals("com.whatsapp")) {
                        whatsappnoti.name = title.toString();
                        whatsappnoti.text = text.toString();
                        whatsappnoti.room = room;
                        whatsappnoti.date = formatedNow;
                        whatsappnoti.vsDate = formatedNow2;
                        whatsappnoti.send = 1;
                        whatsappnoti.result = result;
                        whatsappnoti.app = "3";
                        whatsappnoti.read = "2";
                        whatsappnoti.url = hasUrl;
//                         if(runApp == false) notiDb.WhatsappDao().insert(whatsappnoti);
//                         notiDb.WhatsappDao().insert(whatsappnoti);
                        if(isRemoved == false) notiDb.WhatsappDao().insert(whatsappnoti);
                        
//                         if(runApp == false && isRemoved == false) {
//                             notiDb.WhatsappDao().insert(whatsappnoti);
//                         }
                    } else if(packageName.equals("org.telegram.messenger") 
                              && (!title.equals("텔레그램") || !title.equals("Telegram"))) {
//                         System.out.println("타이틀 확인 : " + title);
                        telegramnoti.name = title.toString();
                        telegramnoti.text = text.toString();
                        telegramnoti.room = room;
                        telegramnoti.date = formatedNow;
                        telegramnoti.vsDate = formatedNow2;
                        telegramnoti.send = 1;
                        telegramnoti.result = result;
                        telegramnoti.app = "4";
                        telegramnoti.read = "2";
                        telegramnoti.url = hasUrl;
                        if(isRemoved == false) notiDb.TelegramDao().insert(telegramnoti);
                    } else if(packageName.equals("jp.naver.line.android")) {
                        // System.out.println("태그 확인 : " + tag);
                        int mId = notification.getId();
                        if(mId == 16880000) {
                            linenoti.name = title.toString();
                            linenoti.text = text.toString();
                            linenoti.room = room;
                            linenoti.date = formatedNow;
                            linenoti.vsDate = formatedNow2;
                            linenoti.send = 1;
                            linenoti.result = result;
                            linenoti.app = "4";
                            linenoti.read = "2";
                            linenoti.url = hasUrl;
                            if(isRemoved == false) notiDb.LineDao().insert(linenoti);
                        }
                    } else if(packageName.equals("com.instagram.android")
                            && (!title.equals("인스타그램") || !title.equals("Instagram"))) {
//                         System.out.println("타이틀 확인 : " + title);
                        instagramnoti.name = title.toString();
                        instagramnoti.text = text.toString();
                        instagramnoti.room = room;
                        instagramnoti.date = formatedNow;
                        instagramnoti.vsDate = formatedNow2;
                        instagramnoti.send = 1;
                        instagramnoti.result = result;
                        instagramnoti.app = "4";
                        instagramnoti.read = "2";
                        instagramnoti.url = hasUrl;
                        if(isRemoved == false) notiDb.InstagramDao().insert(instagramnoti);
                    } else if(packageName.equals("com.facebook.orca")
                            && (!title.equals("페이스북") || !title.equals("Facebook"))) {
//                         System.out.println("타이틀 확인 : " + title);
                        facebooknoti.name = title.toString();
                        facebooknoti.text = text.toString();
                        facebooknoti.room = room;
                        facebooknoti.date = formatedNow;
                        facebooknoti.vsDate = formatedNow2;
                        facebooknoti.send = 1;
                        facebooknoti.result = result;
                        facebooknoti.app = "4";
                        facebooknoti.read = "2";
                        facebooknoti.url = hasUrl;
                        if(isRemoved == false) notiDb.FacebookDao().insert(facebooknoti);
                    }
//                     System.out.println("로컬DB 인서트 완료");

//                     System.out.println("노티값 확인 : " + noti.text);

//                    if(runApp == false && noti.app != 0) notiDb.NotiDao().insert(noti);
//                      if(runApp == false) notiDb.NotiDao().insert(noti);
//                     notiDb.NotiDao().insert(noti);
//                 }

                    if (extras.containsKey(Notification.EXTRA_PICTURE)) {
                        Bitmap bmp = (Bitmap) extras.get(Notification.EXTRA_PICTURE);
                        ByteArrayOutputStream stream = new ByteArrayOutputStream();
                        bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);
                        intent.putExtra(NotificationConstants.EXTRAS_PICTURE, stream.toByteArray());
                    }
                }
                sendBroadcast(intent);
            }
        }

    }

    static public boolean tldCheck(String str) {
        boolean result = false;
        if(str.startsWith("https://")) {
            str = str.substring(8, str.length());
        } else if(str.startsWith("http://")) {
            str = str.substring(7, str.length());
        }

        if(str.contains("www.")) {
            str = str.substring(4, str.length());
        }

        if (str.contains("/")) {
            str = str.substring(0, str.indexOf("/"));
        }

        if (str.contains(":")) {
            str = str.substring(0, str.indexOf(":"));
        }

        String[] spl = str.split("[.]");
        String sp = "";
        if(spl.length > 2) {
            if(tld.contains(spl[spl.length - 2])) {
                sp = spl[spl.length - 2] + '.' + spl[spl.length - 1];
            } else {
                sp = spl[spl.length - 1];
            }

        } else {
            sp = spl[spl.length - 1];
        }

        result = tld.contains(sp);

        return result;
    }


//    public byte[] getSmallIcon(String packageName) {
//        try {
//            PackageManager manager = getBaseContext().getPackageManager();
//            Drawable icon = manager.getApplicationIcon(packageName);
//            ByteArrayOutputStream stream = new ByteArrayOutputStream();
//            getBitmapFromDrawable(icon).compress(Bitmap.CompressFormat.PNG, 100, stream);
//            return stream.toByteArray();
//        } catch (PackageManager.NameNotFoundException e) {
//            e.printStackTrace();
//            return null;
//        }
//    }

}
